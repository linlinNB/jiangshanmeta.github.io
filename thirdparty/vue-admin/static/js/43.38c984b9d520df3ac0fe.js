(window.webpackJsonp=window.webpackJsonp||[]).push([[43,13,25],{"+Xtn":function(e,t,a){"use strict";var n=a("ODRq"),i=a.n(n);t.a={computed:{valueLabelMap:function(){var e=this.valuefield,t=this.labelfield;return this.candidate.reduce(function(a,n){return a.set(n[e],n[t]),a},new i.a)}}}},"/f1G":function(e,t,a){e.exports={default:a("nhzr"),__esModule:!0}},"/h46":function(e,t,a){a("cHUd")("Map")},"0Aeb":function(e,t,a){"use strict";t.a={props:{labelfield:{type:String,default:"label"},valuefield:{type:String,default:"value"}}}},"9wOH":function(e,t,a){"use strict";a.r(t);var n=a("R4ll"),i=a("G7mT"),l=a("VVEY"),r=a("dj38"),u={name:"field_relates_array_model",inheritAttrs:!0,mixins:[i.a,l.a,r.a],components:{field_array_model:n.default}},s=a("KHd+"),o=Object(s.a)(u,function(){var e=this,t=e.$createElement;return(e._self._c||t)("field_array_model",e._b({attrs:{candidate:e.finalOptions,labelfield:e.labelfield,valuefield:e.valuefield,isCandidateValid:e.hasCachedOptions},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"field_array_model",e.$attrs,!1))},[],!1,null,null,null);t.default=o.exports},DIy8:function(e,t,a){"use strict";t.a={props:{value:{required:!0}}}},E8gZ:function(e,t,a){var n=a("w6GO"),i=a("NsO/"),l=a("NV0k").f;e.exports=function(e){return function(t){for(var a,r=i(t),u=n(r),s=u.length,o=0,d=[];s>o;)l.call(r,a=u[o++])&&d.push(e?[a,r[a]]:r[a]);return d}}},FFBG:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("m1cH"),i=a.n(n),l=a("FyfS"),r=a.n(l),u=a("jWXv"),s=a.n(u);function o(e,t){var a=new s.a(t),n=new s.a,l=!0,u=!1,o=void 0;try{for(var d,c=r()(e);!(l=(d=c.next()).done);l=!0){var f=d.value;a.has(f)&&n.add(f)}}catch(e){u=!0,o=e}finally{try{!l&&c.return&&c.return()}finally{if(u)throw o}}return[].concat(i()(n))}t.b={props:{isCandidateValid:{type:Boolean,default:!0},handleInvalidValue:{type:Function,default:function(){}}},watch:{value:{handler:"validateOption",immediate:!0},candidate:{handler:"validateOption",immediate:!0}},methods:{_gen_allvalue_set:function(){var e=new s.a,t=!0,a=!1,n=void 0;try{for(var i,l=r()(this.candidate);!(t=(i=l.next()).done);t=!0){var u=i.value;e.add(u[this.valuefield])}}catch(e){a=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw n}}return e}}}},G7mT:function(e,t,a){"use strict";var n=a("FyfS"),i=a.n(n),l=a("/f1G"),r=a.n(l),u=a("4d7F"),s=a.n(u),o=a("lhuP");t.a={props:{relates:{type:Array,default:function(){return[]}},httpRequest:{type:Function,required:!0},labelfield:{type:String,default:"label"},valuefield:{type:String,default:"value"},handleInvalidRelateIds:{type:Function,default:function(){}}},methods:{getOptions:function(){var e=this;if(this.hasValidIds){if(!this.hasCachedOptions){var t={},a={};this.relates.forEach(function(e){var n=e.hasOwnProperty("requestField")?e.requestField:e.relateField;t[n]=e.value,a[e.relateField]=e.value}),new s.a(function(a,n){e.httpRequest(a,t)}).then(function(t){e.setCacheOptions(t,a)}).catch(o.c)}}else this.handleInvalidRelateIds()},setCacheOptions:function(e,t){for(var a=this.optionsCache,n=this.relates.length,i=0;i<n-1;){var l=t[this.relates[i++].relateField];a.hasOwnProperty(l)||this.$set(a,l,{}),a=a[l]}this.$set(a,this.relates[n-1].value,e)}},computed:{finalOptions:function(){if(!this.hasValidIds||!this.hasCachedOptions)return[];for(var e=this.relates.length,t=0,a=this.optionsCache;t<e;)a=a[this.relates[t++].value];return a},allOptions:function(){var e=this.relates.length,t=0,a=[];for(a[0]=[this.optionsCache];t<e;)a[t+1]=a[t].reduce(function(e,t){var a=r()(t);return e.concat(a)},[]),t++;var n=this.valuefield,i=a[t].reduce(function(e,t){return t.reduce(function(e,t){return e[t[n]]=t,e},e),e},{});return r()(i)},hasValidIds:function(){var e=!0,t=!1,a=void 0;try{for(var n,l=i()(this.relates);!(e=(n=l.next()).done);e=!0){var r=n.value;if(r.value===r.invalidValue)return!1}}catch(e){t=!0,a=e}finally{try{!e&&l.return&&l.return()}finally{if(t)throw a}}return!0},hasCachedOptions:function(){for(var e=this.optionsCache,t=this.relates.length,a=0,n=void 0;a<t;){if(n=this.relates[a++].value,!e.hasOwnProperty(n))return!1;e=e[n]}return!0}},data:function(){return{optionsCache:{}}},watch:{relates:{handler:"getOptions",deep:!0,immediate:!0}}}},KtZ3:function(e,t,a){},"NI/R":function(e,t,a){"use strict";var n=a("KtZ3");a.n(n).a},ODRq:function(e,t,a){e.exports={default:a("UDep"),__esModule:!0}},R4ll:function(e,t,a){"use strict";a.r(t);var n=a("gDS+"),i=a.n(n),l=a("olIR"),r=a("yeWE"),u=a("VVEY"),s=a("0Aeb"),o=a("fm5Q"),d=a("+Xtn"),c={name:"field_array_model",inheritAttrs:!0,mixins:[r.a,u.a,s.a,o.a,d.a],components:{field_model:l.default},data:function(){return{selectedId:""}},methods:{removeItem:function(e){var t=JSON.parse(i()(this.value));t.splice(e,1),this.$emit("input",t)},addItem:function(e){if(this.selectedId=e,!this.value.includes(e)){var t=JSON.parse(i()(this.value));t.push(e),this.$emit("input",t)}}}},f=(a("NI/R"),a("KHd+")),h=Object(f.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("ul",{staticClass:"list-group"},e._l(e.value,function(t,n){return a("li",{key:n,staticClass:"list-group-item"},[e._v("\n            "+e._s(e.valueLabelMap.has(t)?e.valueLabelMap.get(t):t)+"\n            "),a("i",{staticClass:"el-icon-close pull-right",on:{click:function(t){e.removeItem(n)}}})])})),e._v(" "),a("field_model",e._b({attrs:{value:e.selectedId,valuefield:e.valuefield,labelfield:e.labelfield,candidate:e.candidate},on:{input:e.addItem}},"field_model",e.$attrs,!1))],1)},[],!1,null,"2ef9b828",null);t.default=h.exports},UDep:function(e,t,a){a("wgeU"),a("FlQf"),a("bBy9"),a("g33z"),a("XLbu"),a("/h46"),a("dVTT"),e.exports=a("WEpk").Map},VVEY:function(e,t,a){"use strict";t.a={props:{value:{type:Array,required:!0}}}},XLbu:function(e,t,a){var n=a("Y7ZC");n(n.P+n.R,"Map",{toJSON:a("8iia")("Map")})},dVTT:function(e,t,a){a("aPfg")("Map")},dj38:function(e,t,a){"use strict";t.a={computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}},fW1p:function(e,t,a){var n=a("Y7ZC"),i=a("E8gZ")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},fm5Q:function(e,t,a){"use strict";t.a={props:{candidate:{type:Array,required:!0}}}},g33z:function(e,t,a){"use strict";var n=a("Wu5q"),i=a("n3ko");e.exports=a("raTm")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},hnQf:function(e,t,a){"use strict";var n=a("FyfS"),i=a.n(n),l=a("m1cH"),r=a.n(l),u=a("jWXv"),s=a.n(u),o=a("P2sY"),d=a.n(o),c=a("FFBG");t.a=d()({},c.b,{methods:{validateOption:function(){if(this.isCandidateValid){var e=new s.a,t=!0,a=!1,n=void 0;try{for(var l,u=i()(this.candidate);!(t=(l=u.next()).done);t=!0){var o=l.value;e.add(o[this.valuefield])}}catch(e){a=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(a)throw n}}e.has(this.value)||this.handleInvalidValue(this.value,[].concat(r()(e)))}}}})},nhzr:function(e,t,a){a("fW1p"),e.exports=a("WEpk").Object.values},olIR:function(e,t,a){"use strict";a.r(t);var n=a("0Aeb"),i=a("DIy8"),l=a("+Xtn"),r=a("hnQf"),u={name:"field_model",inheritAttrs:!0,mixins:[n.a,i.a,l.a,r.a],data:function(){return{showValue:""}},props:{candidate:{type:Array,required:!0}},methods:{queryModel:function(e,t){var a=this;t(e?this.candidate.filter(function(t){return t[a.labelfield].includes(e)}):this.candidate)},handleInput:function(e){this.showValue=e},handleSelect:function(e){this.$emit("input",e[this.valuefield]),this.setShowValueByValue()},setShowValueByValue:function(){var e=this.value;this.valueLabelMap.has(e)&&(this.showValue=this.valueLabelMap.get(e))}},watch:{value:{handler:"setShowValueByValue",immediate:!0},candidate:{handler:"setShowValueByValue",immediate:!0}}},s=a("KHd+"),o=Object(s.a)(u,function(){var e=this.$createElement;return(this._self._c||e)("el-autocomplete",this._b({attrs:{value:this.showValue,"value-key":this.labelfield,"fetch-suggestions":this.queryModel},on:{select:this.handleSelect,input:this.handleInput}},"el-autocomplete",this.$attrs,!1))},[],!1,null,null,null);t.default=o.exports},yeWE:function(e,t,a){"use strict";var n=a("m1cH"),i=a.n(n),l=a("FyfS"),r=a.n(l),u=a("jWXv"),s=a.n(u),o=a("P2sY"),d=a.n(o),c=a("FFBG");t.a=d()({},c.b,{methods:{validateOption:function(){if(this.isCandidateValid){var e=new s.a,t=!0,a=!1,n=void 0;try{for(var l,u=r()(this.candidate);!(t=(l=u.next()).done);t=!0){var o=l.value;e.add(o[this.valuefield])}}catch(e){a=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(a)throw n}}var d=new s.a,c=(this.value.length,!0),f=!1,h=void 0;try{for(var v,p=r()(this.value);!(c=(v=p.next()).done);c=!0){var y=v.value;if(!e.has(y))return void this.handleInvalidValue(this.value,[].concat(i()(e)));if(d.has(y))return void this.handleInvalidValue(this.value,[].concat(i()(e)));d.add(y)}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}}}})}}]);
//# sourceMappingURL=43.38c984b9d520df3ac0fe.js.map