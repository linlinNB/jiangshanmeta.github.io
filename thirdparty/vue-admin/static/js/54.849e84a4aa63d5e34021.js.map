{"version":3,"sources":["webpack:///./src/components/common/editor/_props_label_value_mixin.js","webpack:///./src/components/common/editor/field_tag.vue?ca06","webpack:///./src/components/common/editor/field_tag.vue?8087","webpack:///src/components/common/editor/field_tag.vue","webpack:///./src/components/common/editor/field_tag.vue","webpack:///./src/components/common/editor/_async_candidate_mixin.js","webpack:///./src/components/common/editor/_validate_option.js","webpack:///./src/components/common/editor/_props_value_array_mixin.js","webpack:///./src/components/common/editor/_computed_model_mixin.js","webpack:///./src/components/common/editor/_props_candidate_mixin.js","webpack:///./src/components/common/editor/field_async_tag.vue?e9ff","webpack:///./src/components/common/editor/field_async_tag.vue?d441","webpack:///src/components/common/editor/field_async_tag.vue","webpack:///./src/components/common/editor/field_async_tag.vue","webpack:///./src/components/common/editor/_validate_option_multi.js"],"names":["__webpack_exports__","props","labelfield","type","String","default","valuefield","editor_field_tagvue_type_script_lang_js","name","mixins","_validate_option_multi","_computed_model_mixin","_props_label_value_mixin","_props_value_array_mixin","_props_candidate_mixin","component","Object","componentNormalizer","_vm","this","_h","$createElement","_c","_self","_b","model","value","callback","$$v","expression","$attrs","_l","item","key","attrs","label","_v","_s","data","candidate","isRequest","httpRequest","Function","required","methods","getCandidate","_this","babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","reject","then","catch","_widget_utility__WEBPACK_IMPORTED_MODULE_1__","created","clearInvalidData","valueArr","optionArr","set","babel_runtime_core_js_set__WEBPACK_IMPORTED_MODULE_2___default","resultSet","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","undefined","_step2","_iterator2","babel_runtime_core_js_get_iterator__WEBPACK_IMPORTED_MODULE_1___default","next","done","has","add","err","return","concat","babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","isCandidateValid","Boolean","handleInvalidValue","watch","handler","immediate","_gen_allvalue_set","allvalueSet","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Array","computed","get","val","$emit","editor_field_async_tagvue_type_script_lang_js","inheritAttrs","components","field_tag","_async_candidate_mixin","babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default","_validate_option__WEBPACK_IMPORTED_MODULE_4__","validateOption","valueSet","length"],"mappings":"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","file":"static/js/54.849e84a4aa63d5e34021.js","sourcesContent":["export default{\n    props:{\n        labelfield:{\n            type:String,\n            default:'label',\n        },\n        valuefield:{\n            type:String,\n            default:'value',\n        }\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-checkbox-group',_vm._b({model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},'el-checkbox-group',_vm.$attrs,false),_vm._l((_vm.candidate),function(item){return _c('el-checkbox',{key:item[_vm.valuefield],attrs:{\"label\":item[_vm.valuefield]}},[_vm._v(\"\\n        \"+_vm._s(item[_vm.labelfield])+\"\\n    \")])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_tag.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_tag.vue?vue&type=script&lang=js\"","<template>\n    <el-checkbox-group\n        v-model=\"model\"\n        v-bind=\"$attrs\"\n    >\n        <el-checkbox \n            v-for=\"item in candidate\" \n            :key=\"item[valuefield]\" \n            :label=\"item[valuefield]\"\n        >\n            {{item[labelfield]}}\n        </el-checkbox>\n    </el-checkbox-group>\n</template>\n\n<script>\nimport _validate_option_multi from \"./_validate_option_multi\"\nimport _computed_model_mixin from \"./_computed_model_mixin.js\"\nimport _props_label_value_mixin from \"./_props_label_value_mixin.js\"\nimport _props_value_array_mixin from \"./_props_value_array_mixin.js\"\nimport _props_candidate_mixin from \"./_props_candidate_mixin\"\n\nexport default{\n    name:'field_tag',\n    mixins:[\n        _validate_option_multi,\n        _computed_model_mixin,\n        _props_label_value_mixin,\n        _props_value_array_mixin,\n        _props_candidate_mixin,\n    ],\n\n}\n</script>","import { render, staticRenderFns } from \"./field_tag.vue?vue&type=template&id=52773083\"\nimport script from \"./field_tag.vue?vue&type=script&lang=js\"\nexport * from \"./field_tag.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {logError} from \"@/widget/utility\"\nexport default{\n    data(){\n        return {\n            candidate:[],\n            isRequest:false,\n        }\n    },\n    props:{\n        httpRequest:{\n            type:Function,\n            required:true,\n        }\n    },\n    methods:{\n        getCandidate(){\n            return new Promise((resolve,reject)=>{\n                this.isRequest = true;\n                this.httpRequest(resolve);\n            }).then((candidate)=>{\n                this.isRequest = false;\n                return this.candidate = candidate\n            }).catch(logError);\n        },\n    },\n    created(){\n        this.getCandidate();\n    }\n}","function noop(){}\n\nexport default{\n    props:{\n        isCandidateValid:{\n            type:Boolean,\n            default:true,\n        },\n        handleInvalidValue:{\n            type:Function,\n            default:noop,\n        },\n    },\n    watch:{\n        value:{\n            handler:\"validateOption\",\n            immediate:true,\n        },\n        candidate:{\n            handler:\"validateOption\",\n            immediate:true,\n        },\n    },\n    methods:{\n        _gen_allvalue_set(){\n            let allvalueSet = new Set();\n            for(let item of this.candidate){\n                allvalueSet.add(item[this.valuefield]);\n            }\n            return allvalueSet;\n        },\n    },\n}\n\n// 去重的方法\nexport function unique(valueArr){\n    return [...new Set(valueArr)];\n}\n\n// 清除不在候选项的选择的数据\nexport function clearInvalidData(valueArr,optionArr){\n    let set = new Set(optionArr);\n    let resultSet = new Set();\n    for(let item of valueArr){\n        if(set.has(item)){\n            resultSet.add(item);\n        }\n    }\n    return [...resultSet];\n}","export default{\n    props:{\n        value:{\n            type:Array,\n            required:true,\n        }\n    }\n}","export default {\n    computed:{\n        model:{\n            get(){\n                return this.value;\n            },\n            set(val){\n                this.$emit('input',val);\n            },\n        }\n    }\n}","export default{\n    props:{\n        candidate:{\n            type:Array,\n            required:true,\n        },\n    },\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field_tag',_vm._b({attrs:{\"candidate\":_vm.candidate,\"isCandidateValid\":!_vm.isRequest},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},'field_tag',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_async_tag.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_async_tag.vue?vue&type=script&lang=js\"","<template>\n    <field_tag\n        v-model=\"model\"\n        :candidate=\"candidate\"\n        :isCandidateValid=\"!isRequest\"\n        v-bind=\"$attrs\"\n    ></field_tag>\n</template>\n\n<script>\nimport field_tag from \"./field_tag.vue\"\n\nimport _async_candidate_mixin from \"./_async_candidate_mixin.js\"\nimport _props_value_array_mixin from \"./_props_value_array_mixin.js\"\nimport _computed_model_mixin from \"./_computed_model_mixin.js\"\n\nexport default {\n    name:'field_async_tag',\n    inheritAttrs:true,\n    components:{\n        field_tag,\n    },\n    mixins:[\n        _async_candidate_mixin,\n        _props_value_array_mixin,\n        _computed_model_mixin,\n    ],\n}\n</script>","import { render, staticRenderFns } from \"./field_async_tag.vue?vue&type=template&id=25e10840\"\nimport script from \"./field_async_tag.vue?vue&type=script&lang=js\"\nexport * from \"./field_async_tag.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import validateOption from \"./_validate_option\"\n\nexport default Object.assign({},validateOption,{\n    methods:{\n        validateOption(){\n            if(!this.isCandidateValid){\n                return;\n            }\n            // let allvalueSet = this._gen_allvalue_set();\n\n            let allvalueSet = new Set();\n            for(let item of this.candidate){\n                allvalueSet.add(item[this.valuefield]);\n            }\n\n            let valueSet = new Set();\n\n            let len = this.value.length;\n\n            for(let item of this.value){\n                // 候选项没有该值，按无效处理\n                if(!allvalueSet.has(item)){\n                    this.handleInvalidValue(this.value,[...allvalueSet]);\n                    return;\n                }\n\n                // 有重复的，按无效处理\n                if(valueSet.has(item)){\n                    this.handleInvalidValue(this.value,[...allvalueSet]);\n                    return;\n                }\n\n                valueSet.add(item);\n            }\n        },\n    },\n});"],"sourceRoot":""}