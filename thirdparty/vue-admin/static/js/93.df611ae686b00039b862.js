(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{B9Yq:function(e,n){e.exports=function(){throw new Error("define cannot be used indirect")}},JEAp:function(e,n,t){var i,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=function(){return e.URL||e.webkitURL||e},t=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in t,r=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(n){(e.setImmediate||e.setTimeout)(function(){throw n},0)},l=function(e){setTimeout(function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()},4e4)},d=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(u,f,c){c||(u=d(u));var s,p=this,g="application/octet-stream"===u.type,m=function(){!function(e,n,t){for(var i=(n=[].concat(n)).length;i--;){var r=e["on"+n[i]];if("function"==typeof r)try{r.call(e,t||e)}catch(e){a(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return s=n().createObjectURL(u),void setTimeout(function(){var e,n;t.href=s,t.download=f,e=t,n=new MouseEvent("click"),e.dispatchEvent(n),m(),l(s),p.readyState=p.DONE});!function(){if((o||g&&r)&&e.FileReader){var t=new FileReader;return t.onloadend=function(){var n=o?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),n=void 0,p.readyState=p.DONE,m()},t.readAsDataURL(u),void(p.readyState=p.INIT)}s||(s=n().createObjectURL(u)),g?e.location.href=s:e.open(s,"_blank")||(e.location.href=s);p.readyState=p.DONE,m(),l(s)}()},f=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,n,t){return n=n||e.name||"download",t||(e=d(e)),navigator.msSaveOrOpenBlob(e,n)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,n,t){return new u(e,n||e.name||"download",t)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==e&&e.exports?e.exports.saveAs=r:null!==t("B9Yq")&&null!==t("PDX0")&&(void 0===(i=function(){return r}.call(n,t,n,e))||(e.exports=i))},PDX0:function(e,n){(function(n){e.exports=n}).call(this,{})},"gDS+":function(e,n,t){e.exports={default:t("oh+g"),__esModule:!0}},lhuP:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"c",function(){return a}),t.d(n,"a",function(){return l});var i=t("JEAp"),r=t.n(i);Object.prototype.toString;function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return e.reduce(function(e,i){return e[i[t]]=i[n],e},{})}function a(e){console&&console.log&&console.log(e)}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template",t=arguments[2];e instanceof Blob||("string"==typeof e&&(e=[e]),e=new Blob(e,t)),r.a.saveAs(e,n)}},mN9J:function(e,n,t){"use strict";t.r(n);var i=t("GQeE"),r=t.n(i),o=t("gDS+"),a=t.n(o),l=t("FyfS"),d=t.n(l),u=t("lhuP"),f=[{id:1,name:"渡边早季",gender:1,password:"123456",typ:999,privilege:[1,2,3,5,11,123,999],desc:"来自新世界的女主"},{id:2,name:"朝比奈觉",gender:0,password:"qwerty",typ:99,privilege:[1,2,3,5],desc:"来自新世界的男主"},{id:3,name:"秋月真理亚",gender:1,password:"123456",typ:99,privilege:[1,2],desc:"早季的姬友"},{id:4,name:"伊东守",gender:0,password:"wwwww",typ:2,privilege:[0,1],desc:"~~~"},{id:5,name:"青沼瞬",gender:0,password:"1234567",typ:1,privilege:[0],desc:"业魔化~"}],c=f.length+1,s=[{value:0,label:"路人甲"},{value:1,label:"店小二"},{value:2,label:"收银员"},{value:99,label:"店掌柜"},{value:999,label:"管理员"}],p=Object(u.b)(s),g=[{id:1,name:"游客"},{id:2,name:"打杂"},{id:3,name:"跑堂"},{id:5,name:"财务"},{id:11,name:"店长"},{id:123,name:"客服"},{id:999,name:"关小黑屋"}];function m(e,n){var t=n.req_typ,i=void 0;switch(console.log(t),t){case 0:i=g.slice(0,1);break;case 1:i=g.slice(0,2);break;case 2:i=g.slice(0,4);break;case 99:i=g.slice(0,-2);break;case 999:i=g.slice(0);break;default:i=[]}e(i)}var v=[["name","password"],["gender","typ"],["privilege"]];var h=[["name"],["gender","typ"],["desc"]];var y=[["name","password"],["gender","typ"],["privilege"],["desc"]];n.default={field_list:{name:{label:"用户名",editorComponent:{name:"field_string2",component:function(){return t.e(11).then(t.bind(null,"NHUl")).then(function(e){return e.default})},config:{placeholder:"请输入用户名"},editConfig:{placeholder:"测试editconfig"},default:"3"},view:{handler:function(e,n,t){return n.prefix+e},config:{prefix:"用户名"}},validator:[{validator:function(e,n,t){n.length<2?t([new Error("姓名最少两个字符")]):t()}}]},password:{label:"密码",editorComponent:{name:"field_pwd",config:{placeholder:"请输入密码",relates:[{relateField:["name"],handler:function(e){console.log(e),"lelouch"===e.name&&this.$emit("input",0)},config:{immediate:!0}}]},default:""},validator:[{validator:function(e,n,t){n.length>15?t([new Error("密码位数最多为15位")]):t()}}]},gender:{label:"性别",editorComponent:{name:"field_sex",default:0},view:{name:"view_enum2",component:function(){return t.e(16).then(t.bind(null,"wGHw")).then(function(e){return e.default})},config:{enums:{0:"男",1:"女"}}},tip:"暂不支持LGBT",tableColumnConfig:{align:"center"},labelComponent:{default:{name:"label_redstar",component:function(){return t.e(15).then(t.bind(null,"cUIN")).then(function(e){return e.default})},exclude:["create"]},info:{name:"label_redstar",component:function(){return t.e(15).then(t.bind(null,"cUIN")).then(function(e){return e.default})}}}},typ:{label:"类型",editorComponent:{name:"field_enum_select",config:{candidate:s,valuefield:"value",labelfield:"label"},default:0},view:{name:"view_enum",component:function(){return t.e(16).then(t.bind(null,"wGHw")).then(function(e){return e.default})},config:{enums:p}}},privilege:{label:"权限",editorComponent:{name:"field_relates_tag",config:{httpRequest:m,labelfield:"name",valuefield:"id",relates:[{invalidValue:0,relateField:"typ",requestField:"req_typ"}]},default:function(){return[]}},colspan:{create:3,edit:3}},desc:{label:"备注",editorComponent:{name:"field_text_rich",default:"这是富文本编辑器蛤"},view:{name:"view_html",component:function(){return t.e(71).then(t.bind(null,"DUdh")).then(function(e){return e.default})}},colspan:{default:{label:1,field:3},create:3,edit:3,info:{label:2,field:2}}}},staticOperators:[{name:"create",component:function(){return t.e(17).then(t.bind(null,"R9QT")).then(function(e){return e.default})},config:{getCreateFields:function(e){e(v)},doCreateRequest:function(e,n){n.id=c++,f.push(n),e()},triggerConfig:{text:"新建用户",type:"primary"},dialogConfig:{title:"新建用户"},createBtnConfig:{text:"确认创建",type:"success"},cancelBtnConfig:{text:"取消"}}}],filters:[{label:"姓名",field:"username",editorComponent:{name:"field_string",config:{placeholder:"请输入用户姓名"},default:""}},{label:"类型",field:"typ",editorComponent:{name:"filter_enum",config:{candidate:s,allvalue:-1,alllabel:"全部"},default:-1}},{label:"权限",field:"privilege",editorComponent:{name:"filter_relates_enum",config:{httpRequest:m,valuefield:"id",labelfield:"name",placeholder:"请选择权限",allvalue:"all",alllabel:"不限",relates:[{invalidValue:-1,relateField:"typ",requestField:"req_typ"}],handleInvalidRelateIds:function(){this.$emit("input","all")}},default:"all"}},{label:"自定义filter",field:"test",editorComponent:{name:"test_custom_filter",config:{msg:"测试自定义filter"},component:function(){return t.e(70).then(t.bind(null,"RO2G")).then(function(e){return e.default})},default:"test"},watch:!0}],filterOperators:[{name:"reset",component:function(){return t.e(69).then(t.bind(null,"t9Rg")).then(function(e){return e.default})}}],listConfig:{listRequest:function(e,n){e({data:f,fields:["name","gender","typ"],total:f.length})},sortFields:["typ"],paginationConfig:{layout:"total, sizes, prev, pager, next, jumper",pageSizes:[2,10,20,30,50]}},operators:[{name:"info",component:function(){return t.e(68).then(t.bind(null,"Eb8x")).then(function(e){return e.default})},config:{getDetailInfo:function(e){var n=this.data.id,t=!0,i=!1,r=void 0;try{for(var o,l=d()(f);!(t=(o=l.next()).done);t=!0){var u=o.value;if(u.id===n)return void e({fields:h,record:JSON.parse(a()(u))})}}catch(e){i=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(i)throw r}}},triggerConfig:{text:"查看详情",size:"small",type:"primary"},dialogConfig:{title:"用户详情"}}},{name:"edit",component:function(){return t.e(67).then(t.bind(null,"XeHU")).then(function(e){return e.default})},config:{getEditInfo:function(e){var n=this.id,t=!0,i=!1,r=void 0;try{for(var o,l=d()(f);!(t=(o=l.next()).done);t=!0){var u=o.value;if(u.id===n)return console.log(u),void e({fields:JSON.parse(a()(y)),record:JSON.parse(a()(u))})}}catch(e){i=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(i)throw r}}},doEditRequest:function(e,n){var t=this.id,i=function(e){if(e.id===t)return r()(e).forEach(function(t){t in n&&(e[t]=n[t])}),"break"},o=!0,a=!1,l=void 0;try{for(var u,c=d()(f);!(o=(u=c.next()).done)&&"break"!==i(u.value);o=!0);}catch(e){a=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw l}}e()},autoValidate:!1,reserveFields:["id"],triggerConfig:{text:"编辑",size:"small",type:"primary"},dialogConfig:{title:"编辑用户"},editBtnConfig:{type:"primary",text:"确定编辑"},cancelBtnConfig:{text:"取消"}}},{handler:function(e,n){this.$message({message:n.name+"不要总想着搞个大新闻",type:"success",duration:2e3}),setTimeout(function(){e()},1e3)},triggerConfig:{text:"搞个大新闻",type:"warning",size:"small"}},{name:"delete",component:function(){return t.e(66).then(t.bind(null,"KjEj")).then(function(e){return e.default})},config:{doDeleteRequest:function(e){var n=this.id;for(var t in f)f[t].id===n&&f.splice(t,1)},triggerConfig:{text:"删除用户",type:"danger",size:"small"}}},{name:"toggle",component:function(){return t.e(65).then(t.bind(null,"SeFS")).then(function(e){return e.default})},config:{descriptor:[{value:0,text:"更改性别为女",type:"warning"},{value:1,text:"更改性别为男",type:"danger"}],field:"gender",handleToggle:function(e,n){console.log(n),e()},reserveFields:["id"],triggerConfig:{size:"small"}}}]}},"oh+g":function(e,n,t){var i=t("WEpk"),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}}}]);
//# sourceMappingURL=93.df611ae686b00039b862.js.map