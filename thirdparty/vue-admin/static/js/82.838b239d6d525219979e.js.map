{"version":3,"sources":["webpack:///./src/components/common/editor/_computed_value_label_map_mixin.js","webpack:///./node_modules/babel-runtime/core-js/object/values.js","webpack:///./node_modules/core-js/library/modules/es7.map.of.js","webpack:///./src/components/common/editor/_props_label_value_mixin.js","webpack:///./src/components/common/editor/field_relates_array_model.vue?28cc","webpack:///./src/components/common/editor/field_relates_array_model.vue?109f","webpack:///src/components/common/editor/field_relates_array_model.vue","webpack:///./src/components/common/editor/field_relates_array_model.vue","webpack:///(webpack)/buildin/amd-define.js","webpack:///./src/components/common/editor/_props_value_mixin.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///./src/components/common/editor/_field_relates_mixin.js","webpack:///./node_modules/file-saver/FileSaver.js","webpack:///./src/components/common/editor/field_array_model.vue?914a","webpack:///./node_modules/babel-runtime/core-js/map.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/common/editor/field_array_model.vue?39bc","webpack:///./src/components/common/editor/field_array_model.vue?a4f7","webpack:///src/components/common/editor/field_array_model.vue","webpack:///./src/components/common/editor/field_array_model.vue","webpack:///./node_modules/core-js/library/fn/map.js","webpack:///./src/components/common/editor/_props_value_array_mixin.js","webpack:///./node_modules/core-js/library/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/library/modules/es7.map.from.js","webpack:///./src/components/common/editor/_computed_model_mixin.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./src/components/common/editor/_props_candidate_mixin.js","webpack:///./node_modules/core-js/library/modules/es6.map.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./src/components/common/editor/_validate_option_mono.js","webpack:///./src/widget/utility.js","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/components/common/editor/field_model.vue?df9f","webpack:///./src/components/common/editor/field_model.vue?f73a","webpack:///src/components/common/editor/field_model.vue","webpack:///./src/components/common/editor/field_model.vue","webpack:///./src/components/common/editor/_validate_option_multi.js"],"names":["__webpack_exports__","computed","valueLabelMap","valuefield","this","labelfield","candidate","reduce","map","item","set","babel_runtime_core_js_map__WEBPACK_IMPORTED_MODULE_0___default","a","module","exports","default","__webpack_require__","__esModule","props","type","String","editor_field_relates_array_modelvue_type_script_lang_js","name","inheritAttrs","mixins","_field_relates_mixin","_props_value_array_mixin","_computed_model_mixin","components","field_array_model","component","Object","componentNormalizer","_vm","_h","$createElement","_self","_c","_b","attrs","finalOptions","isCandidateValid","hasCachedOptions","model","value","callback","$$v","expression","$attrs","Error","required","getKeys","toIObject","isEnum","f","isEntries","it","key","O","keys","length","i","result","call","push","relates","Array","httpRequest","Function","handleInvalidRelateIds","methods","getOptions","_this","hasValidIds","queryObj","cacheObj","forEach","queryKey","hasOwnProperty","requestField","relateField","babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_2___default","resolve","reject","then","setCacheOptions","catch","_widget_utility__WEBPACK_IMPORTED_MODULE_3__","options","start","optionsCache","len","counter","cacheKey","$set","allOptions","level","levelTree","arr","child","babel_runtime_core_js_object_values__WEBPACK_IMPORTED_MODULE_1___default","concat","rst","obj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","babel_runtime_core_js_get_iterator__WEBPACK_IMPORTED_MODULE_0___default","next","done","invalidValue","err","return","relateId","data","watch","handler","deep","immediate","__WEBPACK_AMD_DEFINE_RESULT__","saveAs","view","navigator","test","userAgent","get_URL","URL","webkitURL","save_link","document","createElementNS","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","setTimeout","revoke","file","revokeObjectURL","remove","auto_bom","blob","Blob","fromCharCode","FileSaver","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","event","listener","dispatch","split","readyState","INIT","createObjectURL","node","href","download","MouseEvent","dispatchEvent","DONE","FileReader","reader","onloadend","url","replace","open","location","readAsDataURL","fs_error","FS_proto","prototype","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","window","content","__webpack_amd_options__","editor_field_array_modelvue_type_script_lang_js","_validate_option_multi","_props_label_value_mixin","_props_candidate_mixin","_computed_value_label_map_mixin","field_model","selectedId","removeItem","index","JSON","parse","stringify_default","splice","$emit","addItem","includes","staticClass","_l","_v","_s","has","get","on","click","$event","input","Map","$export","P","R","toJSON","val","$values","S","values","strong","validate","arguments","entry","getEntry","v","def","babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default","_validate_option__WEBPACK_IMPORTED_MODULE_4__","validateOption","allvalueSet","babel_runtime_core_js_set__WEBPACK_IMPORTED_MODULE_2___default","add","handleInvalidValue","babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default","file_saver__WEBPACK_IMPORTED_MODULE_0__","file_saver__WEBPACK_IMPORTED_MODULE_0___default","n","toString","enumArr2Hash","label","logError","e","console","log","core","$JSON","stringify","apply","editor_field_modelvue_type_script_lang_js","_props_value_mixin","_validate_option_mono","showValue","queryModel","queryString","cb","filter","handleInput","handleSelect","setShowValueByValue","value-key","fetch-suggestions","select","babel_runtime_core_js_get_iterator__WEBPACK_IMPORTED_MODULE_1___default","valueSet","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/82.838b239d6d525219979e.js","sourcesContent":["export default{\n    computed:{\n        valueLabelMap(){\n            let valuefield = this.valuefield;\n            let labelfield = this.labelfield;\n            return this.candidate.reduce((map,item)=>{\n                map.set(item[valuefield],item[labelfield]);\n                return map;\n            },new Map());\n        },\n    },\n}","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","export default{\n    props:{\n        labelfield:{\n            type:String,\n            default:'label',\n        },\n        valuefield:{\n            type:String,\n            default:'value',\n        }\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field_array_model',_vm._b({attrs:{\"candidate\":_vm.finalOptions,\"labelfield\":_vm.labelfield,\"valuefield\":_vm.valuefield,\"isCandidateValid\":_vm.hasCachedOptions},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},'field_array_model',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_relates_array_model.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_relates_array_model.vue?vue&type=script&lang=js\"","<template>\n    <field_array_model\n        v-model=\"model\"\n        v-bind=\"$attrs\"\n        :candidate=\"finalOptions\"\n        :labelfield=\"labelfield\"\n        :valuefield=\"valuefield\"\n        :isCandidateValid=\"hasCachedOptions\"\n    ></field_array_model>\n</template>\n\n<script>\nimport field_array_model from \"./field_array_model.vue\"\n\nimport _field_relates_mixin from \"./_field_relates_mixin.js\"\nimport _props_value_array_mixin from \"./_props_value_array_mixin.js\"\nimport _computed_model_mixin from \"./_computed_model_mixin.js\"\n\nexport default{\n    name:'field_relates_array_model',\n    inheritAttrs:true,\n    mixins:[\n        _field_relates_mixin,\n        _props_value_array_mixin,\n        _computed_model_mixin,\n    ],\n    components:{\n        field_array_model,\n    },\n}\n</script>","import { render, staticRenderFns } from \"./field_relates_array_model.vue?vue&type=template&id=3131420d\"\nimport script from \"./field_relates_array_model.vue?vue&type=script&lang=js\"\nexport * from \"./field_relates_array_model.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n","export default{\n    props:{\n        value:{\n            required:true,\n        }\n    }\n}","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","import {logError} from \"@/widget/utility\"\n\nfunction noop(){}\n\nexport default{\n    props:{\n        relates:{\n            type:Array,\n            default:function(){\n                return []\n            }\n        },\n        httpRequest:{\n            type:Function,\n            required:true,\n        },\n        labelfield:{\n            type:String,\n            default:'label',\n        },\n        valuefield:{\n            type:String,\n            default:'value',\n        },\n        handleInvalidRelateIds:{\n            type:Function,\n            default:noop,\n        },\n        \n    },\n    methods:{\n        getOptions(){\n            if(!this.hasValidIds){\n                this.handleInvalidRelateIds();\n                return;\n            }\n\n            if(this.hasCachedOptions){\n                return;\n            }\n\n            let queryObj = {};\n            let cacheObj = {};\n\n            this.relates.forEach((item)=>{\n                let queryKey = item.hasOwnProperty(\"requestField\")?item.requestField:item.relateField;\n                queryObj[queryKey] = item.value;\n                cacheObj[item.relateField] = item.value;\n            });\n\n            new Promise((resolve,reject)=>{\n                this.httpRequest(resolve,queryObj)\n            }).then((candidate)=>{\n                this.setCacheOptions(candidate,cacheObj)\n            }).catch(logError);\n\n        },\n        setCacheOptions(options,cacheObj){\n            let start = this.optionsCache;\n            let len = this.relates.length;\n            let counter = 0;\n            while(counter<len-1){\n                let cacheKey = cacheObj[this.relates[counter++].relateField];\n                if(!start.hasOwnProperty(cacheKey)){\n                    this.$set(start,cacheKey,{});\n                }\n                start = start[cacheKey];\n            }\n            this.$set(start,this.relates[len-1]['value'],options);\n        },\n    },\n    computed:{\n        finalOptions(){\n            if(!this.hasValidIds || !this.hasCachedOptions){\n                return [];\n            }\n            let length = this.relates.length;\n            let counter = 0;\n            let start = this.optionsCache;\n            while(counter<length){\n                start = start[this.relates[counter++]['value'] ];\n            }\n            return start;\n        },\n        allOptions(){\n            let level = this.relates.length;\n            let counter = 0;\n\n            let levelTree = [];\n            levelTree[0] = [this.optionsCache];\n\n            while(counter < level){\n                levelTree[counter+1] = levelTree[counter].reduce((arr,item)=>{\n                    let child = Object.values(item);\n                    return arr.concat(child);\n                },[]);\n                counter++;\n            }\n\n            let valuefield = this.valuefield;\n            let rst = levelTree[counter].reduce((obj,item)=>{\n                item.reduce((obj,item)=>{\n                    obj[item[valuefield]] = item\n                    return obj;\n                },obj)\n\n                return obj\n            },{})\n\n            return Object.values(rst);\n        },\n        hasValidIds(){\n            for(let item of this.relates){\n                if(item.value === item.invalidValue){\n                    return false;\n                }\n            }\n            return true;\n        },\n        hasCachedOptions(){\n            let start = this.optionsCache;\n            let len = this.relates.length;\n            let counter = 0;\n            let relateId;\n\n            while(counter<len){\n                relateId = this.relates[counter++]['value'];\n                if(!start.hasOwnProperty(relateId)){\n                    return false;\n                }\n\n                start = start[relateId];\n            }\n            return true;\n        },\n    },\n    data(){\n        return {\n            optionsCache:{},\n        }\n    },\n    watch:{\n        relates:{\n            handler:'getOptions',\n            deep:true,\n            immediate:true\n        },\n    },\n}","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_array_model.vue?vue&type=style&index=0&id=2ef9b828&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_array_model.vue?vue&type=style&index=0&id=2ef9b828&scoped=true&lang=css\"","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('ul',{staticClass:\"list-group\"},_vm._l((_vm.value),function(item,index){return _c('li',{key:index,staticClass:\"list-group-item\"},[_vm._v(\"\\n            \"+_vm._s(_vm.valueLabelMap.has(item)?_vm.valueLabelMap.get(item):item)+\"\\n            \"),_c('i',{staticClass:\"el-icon-close pull-right\",on:{\"click\":function($event){_vm.removeItem(index)}}})])})),_vm._v(\" \"),_c('field_model',_vm._b({attrs:{\"value\":_vm.selectedId,\"valuefield\":_vm.valuefield,\"labelfield\":_vm.labelfield,\"candidate\":_vm.candidate},on:{\"input\":_vm.addItem}},'field_model',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_array_model.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_array_model.vue?vue&type=script&lang=js\"","<template>\n<section>\n    <ul class=\"list-group\">\n        <li class=\"list-group-item\"\n            v-for=\"(item,index) in value\"\n            :key=\"index\"\n        >\n            {{valueLabelMap.has(item)?valueLabelMap.get(item):item}}\n            <i class=\"el-icon-close pull-right\" @click='removeItem(index)'></i>\n        </li>\n    </ul>\n    <field_model\n        :value=\"selectedId\"\n        :valuefield=\"valuefield\"\n        :labelfield=\"labelfield\"\n        :candidate=\"candidate\"\n        @input=\"addItem\"\n        v-bind=\"$attrs\"\n    ></field_model>\n</section>\n</template>\n\n<script>\nimport field_model from \"./field_model.vue\"\n\nimport _validate_option_multi from \"./_validate_option_multi\"\nimport _props_value_array_mixin from \"./_props_value_array_mixin.js\"\nimport _props_label_value_mixin from \"./_props_label_value_mixin.js\"\nimport _props_candidate_mixin from \"./_props_candidate_mixin\"\nimport _computed_value_label_map_mixin from './_computed_value_label_map_mixin'\n\nexport default{\n    name:'field_array_model',\n    inheritAttrs:true,\n    mixins:[\n        _validate_option_multi,\n        _props_value_array_mixin,\n        _props_label_value_mixin,\n        _props_candidate_mixin,\n        _computed_value_label_map_mixin,\n    ],\n    components:{\n        field_model,\n    },\n    data(){\n        return {\n            selectedId:'',\n        }\n    },\n    methods:{\n        removeItem(index){\n            let value = JSON.parse(JSON.stringify(this.value));\n            value.splice(index,1);\n            this.$emit('input',value);\n        },\n        addItem(selectedId){\n            this.selectedId = selectedId;\n            if(!this.value.includes(selectedId)){\n                let value = JSON.parse(JSON.stringify(this.value));\n                value.push(selectedId);\n                this.$emit('input',value)\n            }\n        },\n    },\n}\n</script>\n\n<style scoped>\n.list-group-item{\n    font-size:14px;\n    padding:6px 12px;\n}\n.list-group-item .el-icon-close{\n    font-size:12px;\n    position:relative;\n    top:5px;\n}\n</style>","import { render, staticRenderFns } from \"./field_array_model.vue?vue&type=template&id=2ef9b828&scoped=true\"\nimport script from \"./field_array_model.vue?vue&type=script&lang=js\"\nexport * from \"./field_array_model.vue?vue&type=script&lang=js\"\nimport style0 from \"./field_array_model.vue?vue&type=style&index=0&id=2ef9b828&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef9b828\",\n  null\n  \n)\n\nexport default component.exports","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n","export default{\n    props:{\n        value:{\n            type:Array,\n            required:true,\n        }\n    }\n}","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","export default {\n    computed:{\n        model:{\n            get(){\n                return this.value;\n            },\n            set(val){\n                this.$emit('input',val);\n            },\n        }\n    }\n}","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","export default{\n    props:{\n        candidate:{\n            type:Array,\n            required:true,\n        },\n    },\n}","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","import validateOption from \"./_validate_option\"\n\nexport default Object.assign({},validateOption,{\n    methods:{\n        validateOption(){\n            if(!this.isCandidateValid){\n                return;\n            }\n\n            let allvalueSet = new Set();\n            for(let item of this.candidate){\n                allvalueSet.add(item[this.valuefield]);\n            }\n\n            // 对于单选，只有候选项不含该值的情况\n            if(!allvalueSet.has(this.value)){\n                this.handleInvalidValue(this.value,[...allvalueSet]);\n            }\n\n\n        },\n    },\n});","const toString = Object.prototype.toString\n\nfunction isAsyncFunction(func){\n    return toString.call(func) === '[object AsyncFunction]';\n}\n\n\nfunction enumArr2Hash(arr,label='label',value='value'){\n    return arr.reduce((obj,item)=>{\n        obj[item[value]] = item[label];\n        return obj;\n    },{})\n}\n\nfunction logError(e){\n    console && console.log && console.log(e);\n}\n\nimport fileSaver from 'file-saver';\n\nfunction download(blob,name=\"template\",options){\n    if(!(blob instanceof Blob)){\n        if(typeof blob === 'string'){\n            blob = [blob];\n        }\n        blob = new Blob(blob,options);\n    }\n\n    fileSaver.saveAs(blob,name);\n}\n\n\nexport {\n    isAsyncFunction,\n    enumArr2Hash,\n    logError,\n    download,\n}","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-autocomplete',_vm._b({attrs:{\"value\":_vm.showValue,\"value-key\":_vm.labelfield,\"fetch-suggestions\":_vm.queryModel},on:{\"select\":_vm.handleSelect,\"input\":_vm.handleInput}},'el-autocomplete',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_model.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field_model.vue?vue&type=script&lang=js\"","<template>\n    <el-autocomplete\n        :value=\"showValue\"\n        :value-key=\"labelfield\"\n        :fetch-suggestions=\"queryModel\"\n        @select=\"handleSelect\"\n        @input=\"handleInput\"\n        v-bind=\"$attrs\"\n    ></el-autocomplete>\n</template>\n\n<script>\nimport _props_label_value_mixin from \"./_props_label_value_mixin\"\nimport _props_value_mixin from \"./_props_value_mixin\"\nimport _computed_value_label_map_mixin from './_computed_value_label_map_mixin'\nimport _validate_option_mono from \"./_validate_option_mono\"\n\nexport default{\n    name:'field_model',\n    inheritAttrs:true,\n    mixins:[\n        _props_label_value_mixin,\n        _props_value_mixin,\n        _computed_value_label_map_mixin,\n        _validate_option_mono,\n    ],\n    data(){\n        return {\n            showValue:'',\n        }\n    },\n    props:{\n        candidate:{\n            type:Array,\n            required:true,\n        },\n    },\n    methods:{\n        queryModel(queryString,cb){\n            let data = queryString?this.candidate.filter((item)=>{\n                return item[this.labelfield].includes(queryString);\n            }):this.candidate;\n            cb(data)\n        },\n        handleInput(value){\n            this.showValue = value\n        },\n        handleSelect(item){\n            this.$emit('input',item[this.valuefield]);\n            this.setShowValueByValue();\n        },\n        setShowValueByValue(){\n            let value = this.value;\n            if(this.valueLabelMap.has(value)){\n                this.showValue = this.valueLabelMap.get(value)\n            }\n        },\n    },\n    watch:{\n        value:{\n            handler:\"setShowValueByValue\",\n            immediate:true,\n        },\n        candidate:{\n            handler:\"setShowValueByValue\",\n            immediate:true,\n        },\n    },\n}\n</script>","import { render, staticRenderFns } from \"./field_model.vue?vue&type=template&id=04d51a94\"\nimport script from \"./field_model.vue?vue&type=script&lang=js\"\nexport * from \"./field_model.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import validateOption from \"./_validate_option\"\n\nexport default Object.assign({},validateOption,{\n    methods:{\n        validateOption(){\n            if(!this.isCandidateValid){\n                return;\n            }\n            // let allvalueSet = this._gen_allvalue_set();\n\n            let allvalueSet = new Set();\n            for(let item of this.candidate){\n                allvalueSet.add(item[this.valuefield]);\n            }\n\n            let valueSet = new Set();\n\n            let len = this.value.length;\n\n            for(let item of this.value){\n                // 候选项没有该值，按无效处理\n                if(!allvalueSet.has(item)){\n                    this.handleInvalidValue(this.value,[...allvalueSet]);\n                    return;\n                }\n\n                // 有重复的，按无效处理\n                if(valueSet.has(item)){\n                    this.handleInvalidValue(this.value,[...allvalueSet]);\n                    return;\n                }\n\n                valueSet.add(item);\n            }\n        },\n    },\n});"],"sourceRoot":""}