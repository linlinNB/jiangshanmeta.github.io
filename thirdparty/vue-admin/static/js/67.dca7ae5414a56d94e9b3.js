(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{IAY0:function(t,e,i){"use strict";e.a={props:{idfield:{type:String,default:"id"}},computed:{id:function(){return this.data[this.idfield]}}}},XeHU:function(t,e,i){"use strict";i.r(e);var n=i("4d7F"),o=i.n(n),d=i("IAY0"),r=i("lhuP"),c={name:"edit",mixins:[d.a],components:{editor:function(){return i.e(59).then(i.bind(null,"y3Oo"))}},data:function(){return{isShowEditbox:!1,fields:[],record:{},canInitDialog:!1}},props:{data:{type:Object,required:!0},field_list:{type:Object,required:!0},getEditInfo:{type:Function,required:!0},doEditRequest:{type:Function,required:!0},triggerConfig:{type:Object,default:function(){return{}}},dialogConfig:{type:Object,default:function(){return{}}},editBtnConfig:{type:Object,default:function(){return{}}},cancelBtnConfig:{type:Object,default:function(){return{}}},autoValidate:{type:Boolean,default:!1},transformData:{type:Function,default:function(t){return t}},reserveFields:{type:Array,default:function(){return[]}}},methods:{getEditFields:function(){var t=this;new o.a(function(e,i){t.getEditInfo(e)}).then(function(e){var i=e.fields,n=e.record;t.fields=i,t.record=n,t.canInitDialog=!0,t.isShowEditbox=!0}).catch(r.c)},doEdit:function(){var t=this;this.$refs.editbox.validate().then(function(e){t.reserveFields.forEach(function(i){e[i]=t.record[i]}),new o.a(function(i,n){t.doEditRequest(i,t.transformData(e))}).then(function(){t.isShowEditbox=!1,t.$emit("update")}).catch(r.c)}).catch(function(e){t.$message(e)})}}},a=i("KHd+"),u=Object(a.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",t._b({on:{click:t.getEditFields}},"el-button",t.triggerConfig,!1),[t._v("\n        "+t._s(t.triggerConfig.text)+"\n    ")]),t._v(" "),t.canInitDialog?i("el-dialog",t._b({attrs:{visible:t.isShowEditbox},on:{"update:visible":function(e){t.isShowEditbox=e}}},"el-dialog",t.dialogConfig,!1),[i("editor",{ref:"editbox",attrs:{fields:t.fields,record:t.record,field_list:t.field_list,autoValidate:t.autoValidate,mode:"edit"}}),t._v(" "),i("section",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",t._b({on:{click:function(e){t.isShowEditbox=!1}}},"el-button",t.cancelBtnConfig,!1),[t._v("\n                "+t._s(t.cancelBtnConfig.text)+"\n            ")]),t._v(" "),i("el-button",t._b({on:{click:t.doEdit}},"el-button",t.editBtnConfig,!1),[t._v("\n                "+t._s(t.editBtnConfig.text)+"\n            ")])],1)],1):t._e()],1)},[],!1,null,null,null);e.default=u.exports}}]);
//# sourceMappingURL=67.dca7ae5414a56d94e9b3.js.map